webpackJsonp([1],{Ak6s:function(n,c){},NHnr:function(n,c,t){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var e=t("xd7I"),d=t("4YfN"),l=t.n(d),a={name:"load-more-plugin",data:function(){return{winHeight:window.innerHeight||document.documentElement.clientHeight}},props:{loadingIcon:{type:String,required:!1,default:"http://oz12kvgi5.bkt.clouddn.com/loading.svg"},status:{type:Number,required:!0},loadingText:{type:String,required:!1,default:"加载中..."},loadedText:{type:String,required:!1,default:"没有更多了"},reserveDistance:{type:Number,required:!1,default:200}},computed:{getText:function(){switch(this.status){case 0:return"";case 1:return this.loadingText;case 2:return this.loadedText}}},mounted:function(){var n=this;this.$nextTick(function(){n.check();var c=null;window.addEventListener("scroll",function(t){c||(c=setTimeout(function(){n.$el.getBoundingClientRect().top-n.winHeight<n.reserveDistance&&n.$emit("load"),c=null},300))})})},updated:function(){this.check()},methods:{check:function(){this.$el.getBoundingClientRect().top-this.winHeight<0&&(console.log("数据不足以产生滚动"),this.$emit("load"))}},LOAD_STATUS:{HIDE:0,LOADING:1,LOADED:2}},i={render:function(){var n=this.$createElement,c=this._self._c||n;return c("p",{staticClass:"load-more"},[c("img",{directives:[{name:"show",rawName:"v-show",value:1===this.status,expression:"status === 1"}],attrs:{src:this.loadingIcon,alt:""}}),this._v("\n  "+this._s(this.getText)+"\n")])},staticRenderFns:[]};var J=t("C7Lr")(a,i,!1,function(n){t("goqn")},null,null).exports,g=t("2bvH"),s=t("nuJt"),o=t.n(s),u={name:"App",data:function(){return{loadingIcon:o.a,status:0,loadingText:"加载中...",loadedText:"没有更多了",limit:15,reserveDistance:200}},computed:Object(g.d)({list:function(n){return n.list}}),methods:l()({},Object(g.c)(["increment"]),Object(g.b)(["request"]),{loadNextPage:function(){var n=this;this.status===J.LOAD_STATUS.HIDE&&(console.log("开始request"),this.status=J.LOAD_STATUS.LOADING,this.request(this.limit).then(function(c){if(console.log("回调",c),c&&c.length<n.limit)return console.log("结束request，返回无数据"),void(n.status=J.LOAD_STATUS.LOADED);console.log("结束request"),n.status=J.LOAD_STATUS.HIDE}))}}),components:{LoadMore:J}},y={render:function(){var n=this,c=n.$createElement,t=n._self._c||c;return t("div",{attrs:{id:"app"}},[t("h2",[n._v("load-more-plugin 插件实例")]),n._v(" "),t("ul",{staticClass:"data-list"},n._l(n.list,function(c,e){return t("li",{key:e},[n._v(n._s(c.name+" "+(e+1)))])}),0),n._v(" "),t("load-more",{attrs:{loadingIcon:n.loadingIcon,loadingText:n.loadingText,loadedText:n.loadedText,status:n.status,reserveDistance:n.reserveDistance},on:{load:n.loadNextPage}})],1)},staticRenderFns:[]};var m=t("C7Lr")(u,y,!1,function(n){t("yGP5"),t("Ak6s")},null,null).exports,I=t("rVsN"),Z=t.n(I);e.a.use(g.a);var z=0,M=new g.a.Store({state:{list:[]},mutations:{pushList:function(n,c){n.list=n.list.concat(c)}},actions:{request:function(n,c){var t={success:!0,data:[]};if(z>=60)return new Z.a(function(n,c){n(t.data)});for(var e=0;e<c;e++)t.data.push({name:"列表"});return new Z.a(function(e,d){setTimeout(function(){t.success?(n.commit("pushList",t.data),z+=c,e(t.data)):d(t.error)},1500)})}}});e.a.config.productionTip=!1,new e.a({el:"#app",store:M,components:{App:m},template:"<App/>"})},goqn:function(n,c){},nuJt:function(n,c){n.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTIwcHgnIGhlaWdodD0nMTIwcHgnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIiBjbGFzcz0idWlsLWRlZmF1bHQiPjxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSJub25lIiBjbGFzcz0iYmsiPjwvcmVjdD48cmVjdCAgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNhZGFkYWQnIHRyYW5zZm9ybT0ncm90YXRlKDAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPiAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0nb3BhY2l0eScgZnJvbT0nMScgdG89JzAnIGR1cj0nMXMnIGJlZ2luPScwcycgcmVwZWF0Q291bnQ9J2luZGVmaW5pdGUnLz48L3JlY3Q+PHJlY3QgIHg9JzQ2LjUnIHk9JzQwJyB3aWR0aD0nNycgaGVpZ2h0PScyMCcgcng9JzUnIHJ5PSc1JyBmaWxsPScjYWRhZGFkJyB0cmFuc2Zvcm09J3JvdGF0ZSgzMCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSc+ICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSdvcGFjaXR5JyBmcm9tPScxJyB0bz0nMCcgZHVyPScxcycgYmVnaW49JzAuMDgzMzMzMzMzMzMzMzMzMzNzJyByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPjwvcmVjdD48cmVjdCAgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNhZGFkYWQnIHRyYW5zZm9ybT0ncm90YXRlKDYwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApJz4gIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9J29wYWNpdHknIGZyb209JzEnIHRvPScwJyBkdXI9JzFzJyBiZWdpbj0nMC4xNjY2NjY2NjY2NjY2NjY2NnMnIHJlcGVhdENvdW50PSdpbmRlZmluaXRlJy8+PC9yZWN0PjxyZWN0ICB4PSc0Ni41JyB5PSc0MCcgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHJ4PSc1JyByeT0nNScgZmlsbD0nI2FkYWRhZCcgdHJhbnNmb3JtPSdyb3RhdGUoOTAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPiAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0nb3BhY2l0eScgZnJvbT0nMScgdG89JzAnIGR1cj0nMXMnIGJlZ2luPScwLjI1cycgcmVwZWF0Q291bnQ9J2luZGVmaW5pdGUnLz48L3JlY3Q+PHJlY3QgIHg9JzQ2LjUnIHk9JzQwJyB3aWR0aD0nNycgaGVpZ2h0PScyMCcgcng9JzUnIHJ5PSc1JyBmaWxsPScjYWRhZGFkJyB0cmFuc2Zvcm09J3JvdGF0ZSgxMjAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPiAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0nb3BhY2l0eScgZnJvbT0nMScgdG89JzAnIGR1cj0nMXMnIGJlZ2luPScwLjMzMzMzMzMzMzMzMzMzMzNzJyByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPjwvcmVjdD48cmVjdCAgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNhZGFkYWQnIHRyYW5zZm9ybT0ncm90YXRlKDE1MCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSc+ICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSdvcGFjaXR5JyBmcm9tPScxJyB0bz0nMCcgZHVyPScxcycgYmVnaW49JzAuNDE2NjY2NjY2NjY2NjY2N3MnIHJlcGVhdENvdW50PSdpbmRlZmluaXRlJy8+PC9yZWN0PjxyZWN0ICB4PSc0Ni41JyB5PSc0MCcgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHJ4PSc1JyByeT0nNScgZmlsbD0nI2FkYWRhZCcgdHJhbnNmb3JtPSdyb3RhdGUoMTgwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApJz4gIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9J29wYWNpdHknIGZyb209JzEnIHRvPScwJyBkdXI9JzFzJyBiZWdpbj0nMC41cycgcmVwZWF0Q291bnQ9J2luZGVmaW5pdGUnLz48L3JlY3Q+PHJlY3QgIHg9JzQ2LjUnIHk9JzQwJyB3aWR0aD0nNycgaGVpZ2h0PScyMCcgcng9JzUnIHJ5PSc1JyBmaWxsPScjYWRhZGFkJyB0cmFuc2Zvcm09J3JvdGF0ZSgyMTAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPiAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0nb3BhY2l0eScgZnJvbT0nMScgdG89JzAnIGR1cj0nMXMnIGJlZ2luPScwLjU4MzMzMzMzMzMzMzMzMzRzJyByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPjwvcmVjdD48cmVjdCAgeD0nNDYuNScgeT0nNDAnIHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyByeD0nNScgcnk9JzUnIGZpbGw9JyNhZGFkYWQnIHRyYW5zZm9ybT0ncm90YXRlKDI0MCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSc+ICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSdvcGFjaXR5JyBmcm9tPScxJyB0bz0nMCcgZHVyPScxcycgYmVnaW49JzAuNjY2NjY2NjY2NjY2NjY2NnMnIHJlcGVhdENvdW50PSdpbmRlZmluaXRlJy8+PC9yZWN0PjxyZWN0ICB4PSc0Ni41JyB5PSc0MCcgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHJ4PSc1JyByeT0nNScgZmlsbD0nI2FkYWRhZCcgdHJhbnNmb3JtPSdyb3RhdGUoMjcwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApJz4gIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9J29wYWNpdHknIGZyb209JzEnIHRvPScwJyBkdXI9JzFzJyBiZWdpbj0nMC43NXMnIHJlcGVhdENvdW50PSdpbmRlZmluaXRlJy8+PC9yZWN0PjxyZWN0ICB4PSc0Ni41JyB5PSc0MCcgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHJ4PSc1JyByeT0nNScgZmlsbD0nI2FkYWRhZCcgdHJhbnNmb3JtPSdyb3RhdGUoMzAwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApJz4gIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9J29wYWNpdHknIGZyb209JzEnIHRvPScwJyBkdXI9JzFzJyBiZWdpbj0nMC44MzMzMzMzMzMzMzMzMzM0cycgcmVwZWF0Q291bnQ9J2luZGVmaW5pdGUnLz48L3JlY3Q+PHJlY3QgIHg9JzQ2LjUnIHk9JzQwJyB3aWR0aD0nNycgaGVpZ2h0PScyMCcgcng9JzUnIHJ5PSc1JyBmaWxsPScjYWRhZGFkJyB0cmFuc2Zvcm09J3JvdGF0ZSgzMzAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCknPiAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0nb3BhY2l0eScgZnJvbT0nMScgdG89JzAnIGR1cj0nMXMnIGJlZ2luPScwLjkxNjY2NjY2NjY2NjY2NjZzJyByZXBlYXRDb3VudD0naW5kZWZpbml0ZScvPjwvcmVjdD48L3N2Zz4="},yGP5:function(n,c){}},["NHnr"]);
//# sourceMappingURL=app.b22265d991564b67b1d8.js.map